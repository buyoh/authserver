@startuml
skinparam componentStyle rectangle

' ---------------------------------------------------------
' components

package app{
interface ResourceProvider

class AppMain
class AppExpress
class AppHandler
class ResourceManagerAppImpl
}

package user_profile {
class UserProfileManagerImpl
interface UserProfileManager
}

package crypto {
class OtpAuthCrypto
}

package storage{
interface KeyValusStorageInterface
class MongoStorage
() StorageBuilder
}

interface express

' ---------------------------------------------------------
' relations

' === app ===

AppMain o--> AppExpress
AppMain ..> AppHandler
AppMain ..> StorageBuilder
AppMain ..> ResourceManagerAppImpl

ResourceProvider ..> UserProfileManager
ResourceManagerAppImpl -up-|> ResourceProvider
ResourceManagerAppImpl o--> UserProfileManagerImpl

AppHandler o--> ResourceProvider

AppExpress o-right-> AppHandler
AppExpress ..> express

' === user_profile ===

UserProfileManagerImpl -up-|> UserProfileManager
UserProfileManagerImpl o--> KeyValusStorageInterface
UserProfileManagerImpl o--> OtpAuthCrypto

' === storage ===

MongoStorage -|> KeyValusStorageInterface
StorageBuilder ..> MongoStorage

@enduml